<?php/* * **************************************** *     _____                     *    |  __ \                    *    | |  | |_   _  ___  _ __   *    | |  | | | | |/ _ \| '_ \  *    | |__| | |_| | (_) | | | | *    |_____/ \__, |\___/|_| |_| *             __/ |             *            |___/   *            *       Paulo Felipe Possa Parrira [ paul (dot) 0 (at) live (dot) de ] *  ===================================================================== *  File: users_public.php *  Type: Controller *  ===================================================================== *  */require("users.php");class userPublicController extends user {    public function __construct() {        $this->conn = new conn();    }    /**     * Inicializa a classe de controle, quando chamada pela interface via browser.     * @param Array $url     */    public function init($url) {        $this->usercontroller = new userController();        $this->user = $this->usercontroller->getUser();        switch ($url[1]) {            case "config":                $this->loadUserConfig();                break;        }    }    private function loadUserConfig() {        try {            Twig_Autoloader::register();            $this->twig_loader = new Twig_Loader_Filesystem('includes/interface/templates/public');            $this->twig = new Twig_Environment($this->twig_loader);            if (!$this->user) {                throw new Exception("Usuário inválido.");            }                        echo $this->twig->render('usuario/user_preferences.twig', array("user" => $this->user->getBasicInfo(), "config" => config::$html_preload));        } catch (Exception $ex) {                    }    }}function init_module_users_public($url) {    $usercontroller = new userPublicController();    $usercontroller->init($url);}?>